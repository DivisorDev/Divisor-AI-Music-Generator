<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>AI Music Generator - Divisor Studio</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    max-width: 700px;
    margin: 30px auto;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: #fff;
    padding: 20px 30px;
    border-radius: 15px;
    box-shadow: 0 8px 30px rgba(0,0,0,0.3);
  }
  h1 {
    text-align: center;
    margin-bottom: 20px;
    font-weight: 700;
  }
  label {
    font-weight: 600;
  }
  input[type="text"] {
    padding: 14px;
    width: 100%;
    margin: 15px 0 25px;
    font-size: 17px;
    border: none;
    border-radius: 10px;
  }
  button {
    width: 100%;
    padding: 16px;
    font-size: 19px;
    font-weight: 700;
    color: #764ba2;
    background-color: #fff;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    margin-bottom: 20px;
  }
  button:hover {
    background-color: #f3e6ff;
  }
  #loading {
    color: #b3ffe6;
    margin-top: 10px;
    font-weight: 600;
    display: none;
    text-align: center;
  }
  #error {
    color: #ff8b8b;
    font-weight: 600;
    margin: 15px 0;
    text-align: center;
  }
  audio {
    width: 100%;
    margin: 25px 0;
    outline: none;
    border-radius: 10px;
    box-shadow: 0 4px 15px rgba(255 255 255 / 0.2);
  }
  #downloadLink {
    display: inline-block;
    color: #fff;
    background: linear-gradient(115deg, #2575fc, #6a11cb);
    padding: 14px 30px;
    border-radius: 12px;
    text-decoration: none;
    font-weight: 700;
    transition: background-color 0.3s ease;
    margin-bottom: 40px;
  }
  #downloadLink:hover {
    background: #5b0dba;
  }

  .toggle-buttons {
    display: flex;
    gap: 15px;
    justify-content: center;
    margin: 30px 0 10px;
  }
  .toggle-buttons button {
    width: auto;
    padding: 10px 18px;
    font-size: 16px;
    font-weight: 600;
    color: #764ba2;
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
  }
  .toggle-buttons button:hover {
    background-color: #e7d8ff;
  }

  .content-section {
    display: none;
    background: rgba(255 255 255 / 0.15);
    border-radius: 12px;
    padding: 18px 25px;
    line-height: 1.5;
    font-size: 16px;
    margin-bottom: 25px;
    color: #f0f0f0;
  }
  .content-section.active {
    display: block;
  }

  footer {
    text-align: center;
    margin-top: 60px;
    font-size: 1em;
    color: #ccc;
    font-weight: 600;
  }

</style>
</head>
<body>

<h1>AI Music Generator</h1>

<label for="prompt">Describe your music:</label>
<input type="text" id="prompt" placeholder="e.g. happy Indian dance beat" />

<button id="generateBtn">Generate Music</button>

<div id="loading">Generating music... please wait.</div>
<div id="error"></div>

<audio id="player" controls style="display:none;"></audio>
<a id="downloadLink" href="#" download="generated_music.wav" style="display:none;">Download Music</a>

<div class="toggle-buttons">
  <button onclick="toggleSection('about')">About Us</button>
  <button onclick="toggleSection('howto')">How to Use</button>
  <button onclick="toggleSection('help')">Help</button>
</div>

<div id="about" class="content-section">
  <h2>About Us</h2>
  <p><strong>M Qasim</strong> is the founder and lead developer of Divisor Studio. With strong expertise in AI and software development, M Qasim is committed to building user-friendly AI-powered applications.</p>
  <p><strong>Divisor Studio</strong> specializes in crafting innovative AI tools to empower creators and entrepreneurs. Our mission is to make technology accessible and profitable for everyone.</p>
</div>

<div id="howto" class="content-section">
  <h2>How to Use This Website</h2>
  <ul>
    <li>Write a short description of the music style or mood you want in the input box above.</li>
    <li>Click the "Generate Music" button and wait a few seconds for the AI to create your song.</li>
    <li>Listen to the generated music using the player controls.</li>
    <li>Click the "Download Music" link below the player to download the file.</li>
    <li>Each downloaded song costs ₹10, payment options will be integrated soon.</li>
  </ul>
</div>

<div id="help" class="content-section">
  <h2>Need Help?</h2>
  <p>If you have any issues, suggestions, or queries, you can message us directly on WhatsApp by clicking the button below.</p>
  <p><a href="https://wa.me/9193557108" target="_blank" style="color:#fff; font-weight:bold; text-decoration:none; background:#25D366; padding:10px 20px; border-radius:8px;">Chat on WhatsApp</a></p>
</div>

<footer>
  Powered by <strong>M Qasim’s Divisor Studio</strong>
</footer>

<script>
  const generateBtn = document.getElementById('generateBtn');
  const promptInput = document.getElementById('prompt');
  const loadingDiv = document.getElementById('loading');
  const errorDiv = document.getElementById('error');
  const player = document.getElementById('player');
  const downloadLink = document.getElementById('downloadLink');

  generateBtn.addEventListener('click', async () => {
    errorDiv.textContent = '';
    const prompt = promptInput.value.trim();
    
    if (!prompt) {
      errorDiv.textContent = 'Please enter a music description.';
      return;
    }
    
    loadingDiv.style.display = 'block';
    player.style.display = 'none';
    downloadLink.style.display = 'none';
    
    try {
      // Replace below URL with your actual backend API endpoint
      const response = await fetch('https://divisor-ai-music-generator-6.onrender.com/generate_music', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ prompt })
      });

      if (!response.ok) throw new Error('Network response was not ok');
      
      const audioBlob = await response.blob();
      const audioUrl = URL.createObjectURL(audioBlob);
      
      player.src = audioUrl;
      player.style.display = 'block';
      
      downloadLink.href = audioUrl;
      downloadLink.style.display = 'inline-block';
      
    } catch (e) {
      errorDiv.textContent = 'Failed to generate music. ' + e.message;
    }
    
    loadingDiv.style.display = 'none';
  });

  function toggleSection(sectionId) {
    const sections = document.querySelectorAll('.content-section');
    sections.forEach(sec => {
      if (sec.id === sectionId) {
        sec.classList.toggle('active');
      } else {
        sec.classList.remove('active');
      }
    });
  }
</script>

</body>
</html>
